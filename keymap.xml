<?xml version="1.0" encoding="UTF-8"?>
<keymap>
    <!-- Main WGFileManager context -->
    <context name="WGFileManagerActions">
        <!-- Color buttons with both short and long press support -->
        <key id="KEY_YELLOW" mapto="yellow" flags="m" />
        <key id="KEY_YELLOW" mapto="yellow_long" flags="l" />
        
        <key id="KEY_RED" mapto="red" flags="m" />
        <key id="KEY_RED" mapto="red_long" flags="l" />
        
        <key id="KEY_GREEN" mapto="green" flags="m" />
        <key id="KEY_GREEN" mapto="green_long" flags="l" />
        
        <key id="KEY_BLUE" mapto="blue" flags="m" />
        <key id="KEY_BLUE" mapto="blue_long" flags="l" />
        
        <!-- Navigation and control buttons -->
        <key id="KEY_MENU" mapto="menu" flags="m" />
        <key id="KEY_MENU" mapto="menu_long" flags="l" />
        
        <key id="KEY_OK" mapto="ok" flags="m" />
        <key id="KEY_OK" mapto="ok_long" flags="l" />
        
        <key id="KEY_EXIT" mapto="cancel" flags="m" />
        <key id="KEY_EXIT" mapto="cancel_long" flags="l" />
        
        <!-- Directional navigation -->
        <key id="KEY_UP" mapto="up" flags="m" />
        <key id="KEY_DOWN" mapto="down" flags="m" />
        <key id="KEY_LEFT" mapto="left" flags="m" />
        <key id="KEY_RIGHT" mapto="right" flags="m" />
        
        <!-- Playback controls -->
        <key id="KEY_PLAY" mapto="play" flags="m" />
        <key id="KEY_PAUSE" mapto="playpause" flags="m" />
        <key id="KEY_STOP" mapto="stop" flags="m" />
        
        <!-- Audio button now mapped to storage_selector -->
        <key id="KEY_AUDIO" mapto="audio" flags="m" />
        
        <!-- Volume and channel controls -->
        <key id="KEY_VOLUMEUP" mapto="volume_up" flags="m" />
        <key id="KEY_VOLUMEDOWN" mapto="volume_down" flags="m" />
        <key id="KEY_CHANNELUP" mapto="channelUp" flags="m" />
        <key id="KEY_CHANNELDOWN" mapto="channelDown" flags="m" />
        
        <!-- Numeric keys (0-9) -->
        <key id="KEY_0" mapto="0" flags="m" />
        <key id="KEY_1" mapto="1" flags="m" />
        <key id="KEY_2" mapto="2" flags="m" />
        <key id="KEY_3" mapto="3" flags="m" />
        <key id="KEY_4" mapto="4" flags="m" />
        <key id="KEY_5" mapto="5" flags="m" />
        <key id="KEY_6" mapto="6" flags="m" />
        <key id="KEY_7" mapto="7" flags="m" />
        <key id="KEY_8" mapto="8" flags="m" />
        <key id="KEY_9" mapto="9" flags="m" />
        
        <!-- Special function keys -->
        <key id="KEY_INFO" mapto="info" flags="m" />
        <key id="KEY_SUBTITLE" mapto="subtitle" flags="m" />  <!-- Subtitle settings key -->
        <key id="KEY_BACK" mapto="back" flags="m" />
        <key id="KEY_HOME" mapto="home" flags="m" />
        
        <!-- Text input support -->
        <key id="KEY_TEXT" mapto="text" flags="m" />
        
        <!-- Channel/bouquet navigation for sorting -->
        <key id="KEY_NEXTBOUQUET" mapto="nextBouquet" flags="m" />
        <key id="KEY_PREVIOUSBOUQUET" mapto="prevBouquet" flags="m" />
        
        <!-- Page navigation -->
        <key id="KEY_PAGEUP" mapto="pageUp" flags="m" />
        <key id="KEY_PAGEDOWN" mapto="pageDown" flags="m" />
        
        <!-- End key -->
        <key id="KEY_END" mapto="end" flags="m" />
        
        <!-- Alternative subtitle hotkeys for quick access -->
        <key id="KEY_SUBTITLE" mapto="subtitle" flags="l" />  <!-- Long press subtitle -->
        <key id="KEY_AUDIO" mapto="audio" flags="l" />  <!-- Long press audio -->
        <key id="KEY_TEXT" mapto="text" flags="l" />  <!-- Long press text -->
        
        <!-- Alternative keys that might exist on some remotes -->
        <key id="KEY_NEXTSONG" mapto="nextBouquet" flags="m" />
        <key id="KEY_PREVIOUSSONG" mapto="prevBouquet" flags="m" />
        
        <!-- EPG/Guide key as alternative for sorting -->
        <key id="KEY_EPG" mapto="nextBouquet" flags="m" />
        
        <!-- TV key as alternative for sorting -->
        <key id="KEY_TV" mapto="prevBouquet" flags="m" />
        
        <!-- Media control extensions -->
        <key id="KEY_FASTFORWARD" mapto="fast_forward" flags="m" />
        <key id="KEY_REWIND" mapto="rewind" flags="m" />
        <key id="KEY_NEXT" mapto="next" flags="m" />
        <key id="KEY_PREVIOUS" mapto="previous" flags="m" />
        
        <!-- Record key as alternative for quick actions -->
        <key id="KEY_RECORD" mapto="record" flags="m" />
    </context>
    
    <!-- MoviePlayer context for when video is playing -->
    <context name="MoviePlayer">
        <!-- Keep player controls separate from file manager -->
        <key id="KEY_SUBTITLE" mapto="subtitleToggle" flags="m" />
        <key id="KEY_AUDIO" mapto="audioSelection" flags="m" />
        <key id="KEY_TEXT" mapto="text" flags="m" />
        <key id="KEY_AUDIO" mapto="long_audio" flags="l" />
        <key id="KEY_TEXT" mapto="long_text" flags="l" />
        <key id="KEY_MENU" mapto="showSubtitleMenu" flags="m" />
        
        <!-- Alternative mappings for different remotes -->
        <key id="KEY_BLUE" mapto="subtitleToggle" flags="m" />
        <key id="KEY_YELLOW" mapto="audioSelection" flags="m" />
        <key id="KEY_GREEN" mapto="text" flags="m" />
    </context>
</keymap>